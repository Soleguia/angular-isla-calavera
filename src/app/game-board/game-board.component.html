<div [class]="{'game-board' : true, 'game-board--off' : !gameOn}">

  <div class="game-board__points">
    <app-points></app-points>
  </div>

  <div *ngIf="gameOn" class="game-board__cards">
    <app-card [showCard]="currentCard"></app-card>
  </div>

  <div *ngIf="gameOn" class="game-board__dice">
    <app-dice *ngFor="let face of dicePool" [face]="face"></app-dice>
  </div>

  <div *ngIf="gameOn" class="game-board__rounds">
    <p>Round: {{ gameData.round }}</p>
    <p>Player: {{ gameData.player }}</p>
    <p>Last Player: {{ gameData.lastPlayer }}</p>
    <p>Skull Island: {{ gameData.skullIsland }}</p>
    <p>Round Over: {{ gameData.roundOver }}</p>
    <p>DicePool: {{ gameData.lockedDice | json }}</p>
  </div>

  <div *ngIf="gameOn" class="game-board__actions">
    <!-- {{ gameData | json }} -->
    <button *ngIf="gameData.round < 1" class="ic_button" (click)="firstRoll()">Start</button>

    <button *ngIf="gameData.player !== gameData.lastPlayer" class="ic_button" (click)="nextPlayerRoll()">Next Player Roll</button>

    <button *ngIf="data.playerCanRoll()" class="ic_button" (click)="roll()">
      <span *ngIf="gameData.skullIsland; else elseBlock">
        Roll for Skull Island
      </span>
      <ng-template #elseBlock>Roll</ng-template>

    </button>

    <button *ngIf="! gameData.skullIsland && data.playerCanSettleDown()" class="ic_button" (click)="settleDown()">
      <span *ngIf="gameData.roundOver; else elseBlock">
        Too much Skulls! Round over!
      </span>
      <ng-template #elseBlock>Settle down</ng-template>
    </button>
  </div>
</div>
